"use strict";(self.webpackChunkmarvel_information_portal=self.webpackChunkmarvel_information_portal||[]).push([[326],{355:(e,t,a)=>{a.d(t,{A:()=>n});const s=a.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",c=a.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var r=a(579);const n=()=>(0,r.jsxs)("div",{className:"app__banner",children:[(0,r.jsx)("img",{src:s,alt:"Avengers"}),(0,r.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,r.jsx)("br",{}),"Stay tuned!"]}),(0,r.jsx)("img",{src:c,alt:"Avengers logo"})]})},882:(e,t,a)=>{a.d(t,{A:()=>r});const s=a.p+"static/media/error.42292aa12b6bc303ce99.gif";var c=a(579);const r=()=>(0,c.jsx)("img",{src:s,className:"error-message-img",alt:"Error message"})},193:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(43),c=a(216),r=a(228),n=a(809),o=a(355),i=a(579);const l=e=>{let{Component:t,dataType:a}=e;const{id:l}=(0,c.g)(),[u,d]=(0,s.useState)(null),{process:m,setProcess:p,clearError:h,getComic:g,getCharacterByName:f}=(0,r.A)();(0,s.useEffect)((()=>{b()}),[l]);const b=()=>{switch(h(),a){case"comic":g(l).then(v).then((()=>p("confirmed")));break;case"character":f(l).then(v).then((()=>p("confirmed")));break;default:console.warn("\u26a0 \u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 dataType: ".concat(a))}},v=e=>{d(e)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.A,{}),(0,n.A)(m,t,u)]})}},228:(e,t,a)=>{a.d(t,{A:()=>r});var s=a(43);const c=function(e){return"string"!==typeof e?e:e.startsWith("http://")?e.replace("http://","https://"):e},r=()=>{const{process:e,setProcess:t,request:a,clearError:r}=(()=>{const[e,t]=(0,s.useState)("waiting"),a=(0,s.useCallback)((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-type":"application/json"};t("loading");try{const t=await fetch(e,{method:a,body:s,headers:c});if(!t.ok)throw new Error("Could not fetch ".concat(e,", status: ").concat(t.status));return await t.json()}catch(r){return t("error"),console.warn("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430",r.message),null}}),[]),c=(0,s.useCallback)((()=>{t("loading")}),[]);return{process:e,setProcess:t,request:a,clearError:c}})(),n="https://gateway.marvel.com:443/v1/public/",o="apikey=48016fbc64705610f2040226da4655f7",i=e=>({name:e.name,description:e.description?"".concat(e.description.slice(0,200),"..."):"There is no description for this character.",thumbnail:c(e.thumbnail.path+"."+e.thumbnail.extension),id:e.id,homepage:e.urls[0].url,wiki:e.urls[1].url,comics:e.comics.items}),l=e=>({id:e.id,title:e.title,price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"Not available",description:e.description||"There is no description",pageCount:e.pageCount?"".concat(e.pageCount," h."):"No information about the number of pages",thumbnail:c(e.thumbnail.path+"."+e.thumbnail.extension),language:e.textObjects.language||"en-us",url:e.urls[0].url});return{process:e,setProcess:t,clearError:r,getAllCharacters:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:210;return(await a("".concat(n,"characters?limit=9&offset=").concat(e,"&").concat(o))).data.results.map((e=>i(e)))},getCharacter:async e=>{const t=await a("".concat(n,"characters/").concat(e,"?").concat(o));return t?i(t.data.results[0]):(console.warn("\u26a0 \u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u0441 ID ".concat(e," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d, \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0437\u0430\u0433\u043b\u0443\u0448\u043a\u0443")),{name:"Unknown Character",description:"No data available",thumbnail:"https://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg"})},getAllComics:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(await a("".concat(n,"comics?orderBy=issueNumber&limit=8&offset=").concat(e,"&").concat(o))).data.results.map((e=>l(e)))},getComic:async e=>{const t=await a("".concat(n,"comics/").concat(e,"?").concat(o));return l(t.data.results[0])},getCharacterByName:async e=>{const t=await a("".concat(n,"characters?name=").concat(e,"&").concat(o));return t.data.results[0]?i(t.data.results[0]):{}}}}},809:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(818),c=a(882),r=a(579);const n=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,r.jsxs)("div",{className:"skeleton",children:[(0,r.jsxs)("div",{className:"pulse skeleton__header",children:[(0,r.jsx)("div",{className:"pulse skeleton__circle"}),(0,r.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,r.jsx)("div",{className:"pulse skeleton__block"}),(0,r.jsx)("div",{className:"pulse skeleton__block"}),(0,r.jsx)("div",{className:"pulse skeleton__block"})]})]}),o=(e,t,a)=>{switch(e){case"waiting":return(0,r.jsx)(n,{});case"loading":return(0,r.jsx)(s.A,{});case"confirmed":return(0,r.jsx)(t,{data:a});case"error":return(0,r.jsx)(c.A,{});default:throw new Error("Unexpected process state")}}}}]);
//# sourceMappingURL=326.05af3e06.chunk.js.map